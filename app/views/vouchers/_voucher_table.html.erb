<div class="container-fluid px-4">
  <h1 class="mt-4">Restaurant Vouchers</h1>
    <div class="card mb-4">
    </div>

    <div class="card mb-4">
      <div class="card-header">
        <i class="fas fa-table me-1"></i>
        Vouchers
        <%= button_to "Add New Voucher", vouchers_new_path, :method => :get, class:"rightButton" %>
      </div>

      <div class="card-body">
        <div class="row">
          <div class="col-6">
            <%= form_with url: "/vouchers", method: :get do |form| %>
              entries per page
              <%= select_tag "per_page", options_for_select([5,10,20,50], :selected=>params[:per_page]),  { onchange: "this.form.submit();"} %>
            <% end %>
          </div>
          <div class="col-6">
            <%= render 'search_form' %>
          </div>
        </div>
        <br/>
        <table class="table table-bordered">
          <thead>
            <tr>
              <th>ID</th>
              <th><%= sort_link @q, :promo_code, "Promo Code", class:"sort-header"%></th>
              <th><%= sort_link @q, :status, "Status", class:"sort-header"%></th>
              <th><%= sort_link @q, :voucher_timeline_start_time, "Start Date", class:"sort-header"%></th>
              <th><%= sort_link @q, :voucher_timeline_end_time, "End Date", class:"sort-header"%></th>
              <th><%= sort_link @q, :disc_percent, "Discount", class:"sort-header"%></th>
              <th><%= sort_link @q, :disc_type, "Discount Type", class:"sort-header"%></th>
              <th>Actions</th>
            </tr>
          </thead>

          <tbody>
            <%= render 'table_form' %>
          </tbody>

        </table>

        <%= pagy_bootstrap_nav(@pagy).html_safe %>
      </div>

    </div>

</div>
